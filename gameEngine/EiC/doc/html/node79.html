<html><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2K.1beta (1.48)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Storage Class</TITLE>
<META NAME="description" CONTENT="Storage Class">
<META NAME="keywords" CONTENT="EiC">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2K.1beta">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="EiC.css" tppabs="http://eic.sourceforge.net/documentation/EiC.css">

<LINK REL="next" HREF="node80.html" tppabs="http://eic.sourceforge.net/documentation/node80.html">
<LINK REL="previous" HREF="node57.html" tppabs="http://eic.sourceforge.net/documentation/node57.html">
<LINK REL="up" HREF="node40.html" tppabs="http://eic.sourceforge.net/documentation/node40.html">
<LINK REL="next" HREF="node80.html" tppabs="http://eic.sourceforge.net/documentation/node80.html">
</HEAD>
<body bgcolor="ffffff" text="3e3e64" link="863644" vlink="8e4e5c" alink="8e4e5c">
<!-- StArT-EiC-top-LiNe -->
<table border="0" cellspacing="0" width="100%">
<tr>
<td bgcolor="3e3e64" align="center"><font size="4" color="999999">
#!/usr/bin/eic -f
</td></font>
<td bgcolor="3e3e64" align="center"><font size="3" color="999999">
int main() { printf("Hello World!\n"); return 0; }
</td></font>
<td bgcolor="3e3e64" align="center"><font size="3" color="999999">
EiC 1> Hello World!;
</td></font>
</table>
<!-- EnD-EiC-top-LiNe -->
<blockquote>
<!-- Begin-EiC-logo -->
<img src="logo.gif" tppabs="http://eic.sourceforge.net/images/logo.gif" border="0"><br>  
<!-- End-EiC-logo -->
</blockquote>
<hr size="1" width="93%">
<!-- The master table that contains the left nav bar and the right-side
     page text... -->
<table border="0">
<tr>
   <!-- Begin navbar -->
<td valign="top">
   <a href="javascript:if(confirm('http://eic.sourceforge.net/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://eic.sourceforge.net/index.html'" tppabs="http://eic.sourceforge.net/index.html"><img border="0" src="navbar_news.gif" tppabs="http://eic.sourceforge.net/images/navbar_news.gif"></a><br>
   <a href="javascript:if(confirm('http://eic.sourceforge.net/overview/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://eic.sourceforge.net/overview/'" tppabs="http://eic.sourceforge.net/overview/"><img border="0" src="navbar_overview.gif" tppabs="http://eic.sourceforge.net/images/navbar_overview.gif"></a><br>
   <a href="index.htm" tppabs="http://eic.sourceforge.net/documentation/"><img border="0" src="navbar_documentation.gif" tppabs="http://eic.sourceforge.net/images/navbar_documentation.gif"></a></br>
   <a href="javascript:if(confirm('http://eic.sourceforge.net/download/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://eic.sourceforge.net/download/'" tppabs="http://eic.sourceforge.net/download/"><img border="0" src="navbar_download.gif" tppabs="http://eic.sourceforge.net/images/navbar_download.gif"></a><br>
   <a href="javascript:if(confirm('http://eic.sourceforge.net/addons/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://eic.sourceforge.net/addons/'" tppabs="http://eic.sourceforge.net/addons/"><img border="0" src="navbar_addons.gif" tppabs="http://eic.sourceforge.net/images/navbar_addons.gif"></a><br>
   <a href="javascript:if(confirm('http://eic.sourceforge.net/links.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://eic.sourceforge.net/links.html'" tppabs="http://eic.sourceforge.net/links.html"><img border="0" src="navbar_links.gif" tppabs="http://eic.sourceforge.net/images/navbar_links.gif"></a><br>
   <a href="javascript:if(confirm('http://eic.sourceforge.net/support/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://eic.sourceforge.net/support/'" tppabs="http://eic.sourceforge.net/support/"><img border="0" src="navbar_support.gif" tppabs="http://eic.sourceforge.net/images/navbar_support.gif"></a><br>
<br><br>
<!-- Begin sponsors -->
 <font size = "-1"> Sponsors:<br> </font>
 <a href="javascript:if(confirm('http://sourceforge.net/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://sourceforge.net/'" tppabs="http://sourceforge.net/"><img src="sflogo.php-group_id=6113&type=4" tppabs="http://sourceforge.net/sflogo.php?group_id=6113&type=4" width="125" height="38" border="0" alt="SourceForge.net Logo"></a> <br>
<!-- End sponsors -->
</td>
   <!-- End navbar -->
   <!-- Begin right-side page data -->
<td valign="top">  <font size="3" face="Helvetica">
<!--Navigation Panel-->
<A NAME="tex2html1550"
  HREF="node80.html" tppabs="http://eic.sourceforge.net/documentation/node80.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png" tppabs="http://eic.sourceforge.net/documentation/next.png"></A> 
<A NAME="tex2html1544"
  HREF="node40.html" tppabs="http://eic.sourceforge.net/documentation/node40.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png" tppabs="http://eic.sourceforge.net/documentation/up.png"></A> 
<A NAME="tex2html1538"
  HREF="node78.html" tppabs="http://eic.sourceforge.net/documentation/node78.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png" tppabs="http://eic.sourceforge.net/documentation/prev.png"></A> 
<A NAME="tex2html1546"
  HREF="node1.html" tppabs="http://eic.sourceforge.net/documentation/node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png" tppabs="http://eic.sourceforge.net/documentation/contents.png"></A> 
<A NAME="tex2html1548"
  HREF="node166.html" tppabs="http://eic.sourceforge.net/documentation/node166.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png" tppabs="http://eic.sourceforge.net/documentation/index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1551"
  HREF="node80.html" tppabs="http://eic.sourceforge.net/documentation/node80.html">Default storage class and</A>
<B> Up:</B> <A NAME="tex2html1545"
  HREF="node40.html" tppabs="http://eic.sourceforge.net/documentation/node40.html">EiC's C Specifications</A>
<B> Previous:</B> <A NAME="tex2html1539"
  HREF="node78.html" tppabs="http://eic.sourceforge.net/documentation/node78.html">Typedef-name specifier</A>
 &nbsp <B>  <A NAME="tex2html1547"
  HREF="node1.html" tppabs="http://eic.sourceforge.net/documentation/node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html1549"
  HREF="node166.html" tppabs="http://eic.sourceforge.net/documentation/node166.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION005130000000000000000"></A>
<A NAME="7082"></A>
<A NAME="sec:StorageClass"></A>
<BR>
Storage Class
</H1>
Syntax:<TABLE  WIDTH="317">
<TR><TD><PRE><TT>
store-class: <TT>one of</TT>
<BR><TT>auto extern register static typedef</TT> 
</TT></PRE>
</TD></TR>
</TABLE>

<P>
In EiC, as for ISO C, it is expected, but not compulsory, that the
storage class of an object precedes other forms of <I>declaration
specifiers</I>. Each object can have only one storage class specifier
and with the exception of the storage class <B><TT>typedef</TT></B>, it
 determines an identifier's scope<A NAME="7090"></A> or
 extent<A NAME="7091"></A>(&#167;&nbsp;<A HREF="node46.html#sec:ScopeRules" tppabs="http://eic.sourceforge.net/documentation/node46.html#sec:ScopeRules">3.5</A>, pg:&nbsp;<A HREF="node46.html#sec:ScopeRules" tppabs="http://eic.sourceforge.net/documentation/node46.html#sec:ScopeRules"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png" tppabs="http://eic.sourceforge.net/documentation/crossref.png"></A>) and linkage.

<P>
<FONT SIZE="-1"> </FONT>

<DL COMPACT>
<DT>auto
<DD><A NAME="item:auto"></A><A NAME="7096"></A>
        Automatic objects are local to the block that they are
 declared in. All objects declared within a block have by default
 automatic storage class unless otherwise specified.  It is an
 error to declare a variable automatic outside a block - at the
 level of the function definition - and redundant to do so within
 a block.<PRE>
auto int i; // error: Illegal storage class usage
{
    auto int i;   // okay 
}
</PRE>

<P>
<DT>register
<DD><A NAME="item:register"></A><A NAME="7102"></A> 
Automatic objects can be declared as a <B><TT>register</TT></B>, with the
intention of being stored for fast access, but unlike the
<B><TT>auto</TT></B> storage class, they can be  used in parameters declarations.
However, as EiC's virtual machine is stack based and not register
based, declaring an automatic object to have storage class
<B><TT>register</TT></B> - although allowed - has no real meaning. According 
to ISO standards it is illegal to take the address of a register
object and thus EiC enforces this rule:<PRE>
{
    register int i, *p;
    p = &amp;i;       // error: cannot apply &amp; to a register 
}
</PRE>

<P>
<DT>extern
<DD><A NAME="item:extern"></A><A NAME="7111"></A> 
When used within a block, <B><TT>extern</TT></B> specifies that the storage for
the object is specified elsewhere and if no external declaration is
visible its linkage will be external. Otherwise, in ISO C, the object
will have no linkage and be unique to the block it is declared in, but
in EiC it will still be treated as an external object and which is not
private to the block it is declared in. As an example of how the storage
class <B><TT>extern</TT></B> can be used in both ISO C and EiC, consider the
following program:<PRE>
#include &lt;assert.h&gt;
int i = 5;
void T()
{   extern int i,j;   // Note, forward declaration of j
    i = 7;
    j = 10;
}
int j = 3;
int main(void)
{   assert(i == 5);
    assert(j == 3);
    T();
    assert(i == 7);
    assert(j == 10);
    return 0;
}
</PRE>

<P>
Also, as much as possible, EiC attempts to follow ISO recommendations
and therefore the initialization of an extern variable is allowed:<PRE>
extern int x = 5;   // okay
</PRE>
 This forces the reference of <B><TT>x</TT></B> into a true definition. In EiC if no
subsequent defining occurrence appears for an external variable, it to
becomes the defining occurrence to that object.

<P>
<DT>static
<DD><A NAME="item:static"></A><A NAME="7124"></A> 
Static objects may appear in declarations local or external to blocks.
When used in the declaration of functions or global variables,
<B><TT>static</TT></B> means that these identifiers will not be exported outside
the current linkage unit or block in which they are declared.  Hence,
all global variables and functions declared static within an include
file are private to that file, and are only visible within the scope
of that file. Therefore, in general, their names will not clash with
the names of any global variable visible from the EiC interpreter.
For example, consider the following program in <B><TT>f1.c</TT></B>:

<P><PRE>
#include &lt;assert.h&gt;
int p = 7;                                                  
#include f2.c
int main()
{
    setp(33);
    assert(getp() == 33);
    assert(p == 7);
    return 0;
}
</PRE>
 where the contents of <B><TT>f2.c</TT></B> are:<PRE>
/* private methods and data */
static int p;                
/* public methods and data */
void setp(int x) { p = x;}   
int getp() { return p;}
</PRE>

<P>
From the example just given, it is seen that the object <B><TT>int p;</TT></B> in
file <B><TT>f2.c</TT></B> does not confict with the same object <B><TT>int p;</TT></B>
previously defined in <B><TT>f1.c</TT></B>. This is because they are in different
storage classes, see &#167;&nbsp;<A HREF="node80.html#sec:DefaultStorageClass" tppabs="http://eic.sourceforge.net/documentation/node80.html#sec:DefaultStorageClass">3.14</A>, pg:&nbsp;<A HREF="node80.html#sec:DefaultStorageClass" tppabs="http://eic.sourceforge.net/documentation/node80.html#sec:DefaultStorageClass"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png" tppabs="http://eic.sourceforge.net/documentation/crossref.png"></A> for further details
on class conflicts.

<P>
With respect to automatic objects, defining a local object to be
static also has meaning; as such objects retain their values across
exit from and reentry to functions and blocks:<PRE>
EiC&gt; int i = 10;  // global variable
EiC&gt; int f(void) { static int i = 1; return i++;}
EiC&gt; while(i--) printf("%d",f());
</PRE>
results in the output: <B><TT>12345678910</TT></B>. 

<P>
<DT>typedef
<DD><A NAME="item:typedef"></A><A NAME="7147"></A>

<P>
A typedef declaration, attributes a type to an identifier and
thereafter, this <I>typedef-name</I> may appear anywhere the same type
specifier may have appeared; see section &#167;&nbsp;<A HREF="node78.html#sec:TypedefName" tppabs="http://eic.sourceforge.net/documentation/node78.html#sec:TypedefName">3.12.10</A>, pg:&nbsp;<A HREF="node78.html#sec:TypedefName" tppabs="http://eic.sourceforge.net/documentation/node78.html#sec:TypedefName"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png" tppabs="http://eic.sourceforge.net/documentation/crossref.png"></A>.

<P>
</DD>
</DL><FONT SIZE="-1"> </FONT>
<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html1550"
  HREF="node80.html" tppabs="http://eic.sourceforge.net/documentation/node80.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png" tppabs="http://eic.sourceforge.net/documentation/next.png"></A> 
<A NAME="tex2html1544"
  HREF="node40.html" tppabs="http://eic.sourceforge.net/documentation/node40.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png" tppabs="http://eic.sourceforge.net/documentation/up.png"></A> 
<A NAME="tex2html1538"
  HREF="node78.html" tppabs="http://eic.sourceforge.net/documentation/node78.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png" tppabs="http://eic.sourceforge.net/documentation/prev.png"></A> 
<A NAME="tex2html1546"
  HREF="node1.html" tppabs="http://eic.sourceforge.net/documentation/node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png" tppabs="http://eic.sourceforge.net/documentation/contents.png"></A> 
<A NAME="tex2html1548"
  HREF="node166.html" tppabs="http://eic.sourceforge.net/documentation/node166.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png" tppabs="http://eic.sourceforge.net/documentation/index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1551"
  HREF="node80.html" tppabs="http://eic.sourceforge.net/documentation/node80.html">Default storage class and</A>
<B> Up:</B> <A NAME="tex2html1545"
  HREF="node40.html" tppabs="http://eic.sourceforge.net/documentation/node40.html">EiC's C Specifications</A>
<B> Previous:</B> <A NAME="tex2html1539"
  HREF="node78.html" tppabs="http://eic.sourceforge.net/documentation/node78.html">Typedef-name specifier</A>
 &nbsp <B>  <A NAME="tex2html1547"
  HREF="node1.html" tppabs="http://eic.sourceforge.net/documentation/node1.html">Contents</A></B> 
 &nbsp <B>  <A NAME="tex2html1549"
  HREF="node166.html" tppabs="http://eic.sourceforge.net/documentation/node166.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
</td> <!-- End right-side page text -->
</tr> 
</table>
<!-- End master table -->
</ADDRESS>
</BODY>
</HTML>
