<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>krmath.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>krmath.h</h1><div class="fragment"><pre>00001 <font class="comment">/*--License:</font>
00002 <font class="comment">        Kyra Sprite Engine</font>
00003 <font class="comment">        Copyright Lee Thomason (Grinning Lizard Software) 2001-2002</font>
00004 <font class="comment">        www.grinninglizard.com/kyra</font>
00005 <font class="comment">        www.sourceforge.net/projects/kyra</font>
00006 <font class="comment"></font>
00007 <font class="comment">        Kyra is provided under 2 licenses:</font>
00008 <font class="comment"></font>
00009 <font class="comment">        - The GPL, with no additional restrictions.</font>
00010 <font class="comment">        - The LGPL, provided you display the Kyra splash screen, described below.</font>
00011 <font class="comment"></font>
00012 <font class="comment"></font>
00013 <font class="comment">--- GPL License --</font>
00014 <font class="comment">        This program is free software; you can redistribute it and/or</font>
00015 <font class="comment">        modify it under the terms of the GNU General Public License</font>
00016 <font class="comment">        as published by the Free Software Foundation; either version 2</font>
00017 <font class="comment">        of the License, or (at your option) any later version.</font>
00018 <font class="comment"></font>
00019 <font class="comment">        This program is distributed in the hope that it will be useful,</font>
00020 <font class="comment">        but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00021 <font class="comment">        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</font>
00022 <font class="comment">        GNU General Public License for more details.</font>
00023 <font class="comment"></font>
00024 <font class="comment">        You should have received a copy of the GNU General Public License</font>
00025 <font class="comment">        along with this program; if not, write to the Free Software</font>
00026 <font class="comment">        Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</font>
00027 <font class="comment"></font>
00028 <font class="comment">        The full text of the license can be found in license.txt</font>
00029 <font class="comment"></font>
00030 <font class="comment"></font>
00031 <font class="comment">--- LGPL License --</font>
00032 <font class="comment">  **Provided you kindly display the Kyra splash screen (details below), </font>
00033 <font class="comment">        you     may use the LGPL license:**</font>
00034 <font class="comment"></font>
00035 <font class="comment">    This library is free software; you can redistribute it and/or</font>
00036 <font class="comment">    modify it under the terms of the GNU Lesser General Public</font>
00037 <font class="comment">    License as published by the Free Software Foundation; either</font>
00038 <font class="comment">    version 2.1 of the License, or (at your option) any later version.</font>
00039 <font class="comment"></font>
00040 <font class="comment">    This library is distributed in the hope that it will be useful,</font>
00041 <font class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00042 <font class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</font>
00043 <font class="comment">    Lesser General Public License for more details.</font>
00044 <font class="comment"></font>
00045 <font class="comment">    You should have received a copy of the GNU Lesser General Public</font>
00046 <font class="comment">    License along with this library; if not, write to the Free Software</font>
00047 <font class="comment">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</font>
00048 <font class="comment"></font>
00049 <font class="comment">        The full text of the license can be found in lgpl.txt</font>
00050 <font class="comment"></font>
00051 <font class="comment"></font>
00052 <font class="comment">--- Kyra Splash Screen.</font>
00053 <font class="comment"></font>
00054 <font class="comment">        It would be appreciate if you display the Kyra splash screen when using</font>
00055 <font class="comment">        either license, however it is only required for the LGPL. All the</font>
00056 <font class="comment">        resources for the splash are compiled into the library, and it can be</font>
00057 <font class="comment">        accessed through the following API:</font>
00058 <font class="comment"></font>
00059 <font class="comment">                KrEngine::StartSplash</font>
00060 <font class="comment">                KrEngine::UpdateSplash</font>
00061 <font class="comment">                KrEngine::EndSplash</font>
00062 <font class="comment"></font>
00063 <font class="comment">        Full documentation is provided with the KrEngine class. The splash screen</font>
00064 <font class="comment">        should be displayed for 2 seconds.</font>
00065 <font class="comment"></font>
00066 <font class="comment">        Thank you.</font>
00067 <font class="comment">*/</font>
00068 
00069 <font class="preprocessor">#ifndef IO_MATH_INCLUDED</font>
00070 <font class="preprocessor"></font><font class="preprocessor">#define IO_MATH_INCLUDED</font>
00071 <font class="preprocessor"></font>
00072 <font class="preprocessor">#include "../util/glutil.h"</font>
00073 <font class="preprocessor">#include "../util/gltypes.h"</font>
00074 <font class="preprocessor">#include "../util/glfixed.h"</font>
00075 
00076 
00077 <font class="comment">// A point or other 2d object.</font>
00078 <font class="keyword">struct </font>KrVector2
00079 {
00080         <font class="keywordtype">int</font> x;          
00081         <font class="keywordtype">int</font> y;          
00082 
00083         <font class="keywordtype">void</font> operator+=( <font class="keyword">const</font> KrVector2&amp; rhs )<font class="keyword"> </font>{ x += rhs.x; y += rhs.y; }
00084         <font class="keywordtype">void</font> Set( <font class="keywordtype">int</font> _x = 0, <font class="keywordtype">int</font> _y = 0 )<font class="keyword">              </font>{ x = _x; y = _y; }
00085 };
00086 
00087 
00088 template &lt;class T&gt;
00089 <font class="keyword">struct </font>KrVector2T
00090 {
00091         T x;
00092         T y;
00093 
00094         <font class="keywordtype">void</font> operator+=( <font class="keyword">const</font> KrVector2T&amp; rhs )<font class="keyword">        </font>{ x += rhs.x; y += rhs.y; }
00095         <font class="keywordtype">void</font> Set( T _x, T _y )<font class="keyword">                                          </font>{ x = _x; y = _y; }
00096 };
00097 
00098 
<a name="l00103"></a><a class="code" href="classKrMatrix2.html">00103</a> <font class="keyword">class </font><a class="code" href="classKrMatrix2.html">KrMatrix2</a>
00104 {
00105   <font class="keyword">public</font>:
00106         <a class="code" href="classGlFixed.html">GlFixed</a> x, y;
00107         <a class="code" href="classGlFixed.html">GlFixed</a> xScale, yScale;
00108 
<a name="l00110"></a><a class="code" href="classKrMatrix2.html#a0">00110</a>         <font class="keywordtype">void</font> <a class="code" href="classKrMatrix2.html#a0">Composite</a>( <font class="keyword">const</font> <a class="code" href="classKrMatrix2.html">KrMatrix2</a>&amp; other )<font class="keyword"></font>
00111 <font class="keyword">        </font>{
00112                 <font class="comment">// The if check helps performance a little bit. The ".v" usage</font>
00113                 <font class="comment">// makes a surprising difference. The opitimizer is doing less</font>
00114                 <font class="comment">// than I expected.</font>
00115                 <font class="keywordflow">if</font> (    other.xScale.v == GlFixed_1 
00116                          &amp;&amp; other.yScale.v == GlFixed_1 )
00117                 {
00118                         x.v = other.x.v + x.v;          <font class="comment">// bypass the compiler opt</font>
00119                         y.v = other.y.v + y.v;
00120                 }
00121                 <font class="keywordflow">else</font>
00122                 {
00123                         x = other.x + other.xScale * x;
00124                         y = other.y + other.yScale * y;
00125                         xScale = other.xScale * xScale;
00126                         yScale = other.yScale * yScale;
00127                 }
00128         }
00129 
00130         <font class="keywordtype">void</font> Set( <a class="code" href="classGlFixed.html">GlFixed</a> _x = 0, <a class="code" href="classGlFixed.html">GlFixed</a> _y = 0, <a class="code" href="classGlFixed.html">GlFixed</a> _xScale = 1, <a class="code" href="classGlFixed.html">GlFixed</a> _yScale = 1 )<font class="keyword"></font>
00131 <font class="keyword">        </font>{
00132                 x.v = _x.v;
00133                 y.v = _y.v;
00134                 xScale.v = _xScale.v;
00135                 yScale.v = _yScale.v;
00136         }
00137 
00138         <font class="comment">// return true if there is any scaling term:</font>
00139         <font class="keywordtype">bool</font> IsScaled()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> ( xScale.v != GlFixed_1 ) || ( yScale.v != GlFixed_1 ); }
00140 
00141         <font class="keyword">inline</font> <font class="keyword">friend</font> <font class="keywordtype">bool</font> operator == (<font class="keyword">const</font> <a class="code" href="classKrMatrix2.html">KrMatrix2</a>&amp; a, <font class="keyword">const</font> <a class="code" href="classKrMatrix2.html">KrMatrix2</a>&amp; b)<font class="keyword">    </font>{ <font class="keywordflow">return</font> (a.x.v == b.x.v &amp;&amp; a.y.v == b.y.v &amp;&amp; a.xScale.v == b.xScale.v &amp;&amp; a.yScale.v == b.yScale.v ); }
00142         <font class="keyword">inline</font> <font class="keyword">friend</font> <font class="keywordtype">bool</font> operator != (<font class="keyword">const</font> <a class="code" href="classKrMatrix2.html">KrMatrix2</a>&amp; a, <font class="keyword">const</font> <a class="code" href="classKrMatrix2.html">KrMatrix2</a>&amp; b)<font class="keyword">    </font>{ <font class="keywordflow">return</font> (a.x.v != b.x.v || a.y.v != b.y.v || a.xScale.v != b.xScale.v || a.yScale.v != b.yScale.v ); }
00143 };
00144 
00145 
<a name="l00148"></a><a class="code" href="structKrRect.html">00148</a> <font class="keyword">struct </font><a class="code" href="structKrRect.html">KrRect</a>
00149 {
<a name="l00150"></a><a class="code" href="structKrRect.html#m0">00150</a>         <font class="keywordtype">int</font> xmin;       
<a name="l00151"></a><a class="code" href="structKrRect.html#m1">00151</a>         <font class="keywordtype">int</font> ymin;       
<a name="l00152"></a><a class="code" href="structKrRect.html#m2">00152</a>         <font class="keywordtype">int</font> xmax;       
<a name="l00153"></a><a class="code" href="structKrRect.html#m3">00153</a>         <font class="keywordtype">int</font> ymax;       
00154 
<a name="l00155"></a><a class="code" href="structKrRect.html#a0">00155</a>         <font class="keywordtype">int</font> <a class="code" href="structKrRect.html#a0">Width</a>()      <font class="keyword">const</font>  { <font class="keywordflow">return</font> xmax - xmin + 1; }             
<a name="l00156"></a><a class="code" href="structKrRect.html#a1">00156</a>         <font class="keywordtype">int</font> <a class="code" href="structKrRect.html#a1">Height</a>()<font class="keyword"> const      </font>{ <font class="keywordflow">return</font> ymax - ymin + 1; }             
00157         <font class="keywordtype">int</font> Area()   <font class="keyword">const</font>      { <font class="keywordflow">return</font> ( xmax - xmin + 1 ) * ( ymax - ymin + 1 );     }
00158 
<a name="l00160"></a><a class="code" href="structKrRect.html#a3">00160</a>         <font class="keywordtype">void</font> Set( <font class="keywordtype">int</font> _xmin, <font class="keywordtype">int</font> _ymin, <font class="keywordtype">int</font> _xmax, <font class="keywordtype">int</font> _ymax )<font class="keyword">  </font>{ xmin = _xmin; ymin = _ymin; xmax = _xmax; ymax = _ymax; }
00161 
<a name="l00163"></a><a class="code" href="structKrRect.html#a4">00163</a>         <font class="keywordtype">void</font> SetInvalid()<font class="keyword">       </font>{ xmin = -1; xmax = -2; ymin = -1; ymax = -2; }
00164 
<a name="l00166"></a><a class="code" href="structKrRect.html#a5">00166</a>         <font class="keywordtype">void</font> Zero()<font class="keyword"></font>
00167 <font class="keyword">        </font>{
00168                 xmin = ymin = xmax = ymax = 0;
00169         }
00170 
<a name="l00172"></a><a class="code" href="structKrRect.html#a6">00172</a>         <font class="keywordtype">bool</font> IsValid()<font class="keyword"> const</font>
00173 <font class="keyword">        </font>{
00174                 <font class="keywordflow">return</font> ( xmin &lt;= xmax ) &amp;&amp; ( ymin &lt;= ymax );
00175         }
00176 
00180         <font class="keywordtype">void</font> FromPair( <font class="keywordtype">int</font> x0, <font class="keywordtype">int</font> y0, <font class="keywordtype">int</font> x1, <font class="keywordtype">int</font> y1 );
00181 
<a name="l00183"></a><a class="code" href="structKrRect.html#a8">00183</a>         <font class="keywordtype">bool</font> Intersect( <font class="keyword">const</font> <a class="code" href="structKrRect.html">KrRect</a>&amp; rect )<font class="keyword"> const</font>
00184 <font class="keyword">        </font>{
00185                 <font class="keywordflow">if</font> (    rect.<a class="code" href="structKrRect.html#m2">xmax</a> &lt; xmin
00186                          || rect.<a class="code" href="structKrRect.html#m0">xmin</a> &gt; xmax
00187                          || rect.<a class="code" href="structKrRect.html#m3">ymax</a> &lt; ymin
00188                          || rect.<a class="code" href="structKrRect.html#m1">ymin</a> &gt; ymax )
00189                 {
00190                         <font class="keywordflow">return</font> <font class="keyword">false</font>;
00191                 }
00192                 <font class="keywordflow">return</font> <font class="keyword">true</font>;
00193         }       
00194 
00195         <font class="keywordtype">bool</font> Intersect( <font class="keyword">const</font> KrVector2&amp; point )<font class="keyword"> const</font>
00196 <font class="keyword">        </font>{
00197                 <font class="keywordflow">if</font> (    point.x &lt; xmin
00198                          || point.x &gt; xmax
00199                          || point.y &lt; ymin
00200                          || point.y &gt; ymax )
00201                 {
00202                         <font class="keywordflow">return</font> <font class="keyword">false</font>;
00203                 }
00204                 <font class="keywordflow">return</font> <font class="keyword">true</font>;
00205         }
00206 
00207         <font class="keywordtype">bool</font> Intersect( <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y )<font class="keyword"> const</font>
00208 <font class="keyword">        </font>{
00209                 <font class="keywordflow">if</font> (    x &lt; xmin
00210                          || x &gt; xmax
00211                          || y &lt; ymin
00212                          || y &gt; ymax )
00213                 {
00214                         <font class="keywordflow">return</font> <font class="keyword">false</font>;
00215                 }
00216                 <font class="keywordflow">return</font> <font class="keyword">true</font>;
00217         }
00218 
00219 
<a name="l00221"></a><a class="code" href="structKrRect.html#a11">00221</a>         <font class="keywordtype">bool</font> HasInside( <font class="keyword">const</font> <a class="code" href="structKrRect.html">KrRect</a>&amp; rect )<font class="keyword"> const</font>
00222 <font class="keyword">        </font>{
00223                 <font class="keywordflow">if</font> (    rect.<a class="code" href="structKrRect.html#m0">xmin</a> &gt;= xmin
00224                          &amp;&amp; rect.<a class="code" href="structKrRect.html#m2">xmax</a> &lt;= xmax
00225                          &amp;&amp; rect.<a class="code" href="structKrRect.html#m1">ymin</a> &gt;= ymin
00226                          &amp;&amp; rect.<a class="code" href="structKrRect.html#m3">ymax</a> &lt;= ymax )
00227                 {
00228                         <font class="keywordflow">return</font> <font class="keyword">true</font>;
00229                 }
00230                 <font class="keywordflow">return</font> <font class="keyword">false</font>;
00231         }
00232 
<a name="l00234"></a><a class="code" href="structKrRect.html#a12">00234</a>         <font class="keywordtype">bool</font> HasInside( <font class="keyword">const</font> KrVector2&amp; point )<font class="keyword"> const</font>
00235 <font class="keyword">        </font>{
00236                 <font class="keywordflow">if</font> (    point.x &gt;= xmin
00237                          &amp;&amp; point.x &lt;= xmax
00238                          &amp;&amp; point.y &gt;= ymin
00239                          &amp;&amp; point.y &lt;= ymax )
00240                 {
00241                         <font class="keywordflow">return</font> <font class="keyword">true</font>;
00242                 }
00243                 <font class="keywordflow">return</font> <font class="keyword">false</font>;
00244         }
00245 
00246 
<a name="l00248"></a><a class="code" href="structKrRect.html#a13">00248</a>         <font class="keywordtype">void</font> DoUnion( <font class="keyword">const</font> <a class="code" href="structKrRect.html">KrRect</a>&amp; rect )<font class="keyword"></font>
00249 <font class="keyword">        </font>{
00250                 xmin = GlMin( xmin, rect.<a class="code" href="structKrRect.html#m0">xmin</a> );
00251                 xmax = GlMax( xmax, rect.<a class="code" href="structKrRect.html#m2">xmax</a> );
00252                 ymin = GlMin( ymin, rect.<a class="code" href="structKrRect.html#m1">ymin</a> );
00253                 ymax = GlMax( ymax, rect.<a class="code" href="structKrRect.html#m3">ymax</a> );
00254         }
00255 
<a name="l00257"></a><a class="code" href="structKrRect.html#a14">00257</a>         <font class="keywordtype">void</font> DoIntersection( <font class="keyword">const</font> <a class="code" href="structKrRect.html">KrRect</a>&amp; rect )<font class="keyword"></font>
00258 <font class="keyword">        </font>{
00259                 xmin = GlMax( xmin, rect.<a class="code" href="structKrRect.html#m0">xmin</a> );
00260                 xmax = GlMin( xmax, rect.<a class="code" href="structKrRect.html#m2">xmax</a> );
00261                 ymin = GlMax( ymin, rect.<a class="code" href="structKrRect.html#m1">ymin</a> );
00262                 ymax = GlMin( ymax, rect.<a class="code" href="structKrRect.html#m3">ymax</a> );
00263         }
00264 
<a name="l00266"></a><a class="code" href="structKrRect.html#a15">00266</a>         <font class="keywordtype">void</font> DoClip( <font class="keyword">const</font> <a class="code" href="structKrRect.html">KrRect</a>&amp; rect )<font class="keyword"></font>
00267 <font class="keyword">        </font>{
00268                 xmin = rect.<a class="code" href="structKrRect.html#m0">xmin</a> &gt; xmin ? rect.<a class="code" href="structKrRect.html#m0">xmin</a> : xmin;
00269                 xmax = rect.<a class="code" href="structKrRect.html#m2">xmax</a> &lt; xmax ? rect.<a class="code" href="structKrRect.html#m2">xmax</a> : xmax;
00270                 ymin = rect.<a class="code" href="structKrRect.html#m1">ymin</a> &gt; ymin ? rect.<a class="code" href="structKrRect.html#m1">ymin</a> : ymin;
00271                 ymax = rect.<a class="code" href="structKrRect.html#m3">ymax</a> &lt; ymax ? rect.<a class="code" href="structKrRect.html#m3">ymax</a> : ymax;
00272         }
00273 
00274 
<a name="l00276"></a><a class="code" href="structKrRect.html#a16">00276</a>         <font class="keywordtype">void</font> Scale( <a class="code" href="classGlFixed.html">GlFixed</a> x, <a class="code" href="classGlFixed.html">GlFixed</a> y )<font class="keyword"></font>
00277 <font class="keyword">        </font>{
00278                 xmin = ( x * xmin ).ToInt();
00279                 ymin = ( y * ymin ).ToInt();
00280                 xmax = ( x * xmax ).ToInt();
00281                 ymax = ( y * ymax ).ToInt();
00282         }
00283 
00284         <font class="comment">// Scale then Translate using the give matrix.</font>
00285         <font class="keywordtype">void</font> ScaleTranslate( <font class="keyword">const</font> <a class="code" href="classKrMatrix2.html">KrMatrix2</a>&amp; matrix )<font class="keyword"></font>
00286 <font class="keyword">        </font>{
00287                 Scale( matrix.xScale, matrix.yScale );
00288                 xmin += matrix.x.ToInt();
00289                 xmax += matrix.x.ToInt();
00290                 ymin += matrix.y.ToInt();
00291                 ymax += matrix.y.ToInt();       
00292         }
00293 
<a name="l00295"></a><a class="code" href="structKrRect.html#a18">00295</a>         <font class="keywordtype">void</font> EdgeAdd( <font class="keywordtype">int</font> i )<font class="keyword"></font>
00296 <font class="keyword">        </font>{
00297                 xmin -= i;
00298                 xmax += i;
00299                 ymin -= i;
00300                 ymax += i;
00301         }
00302 
00303         <font class="keywordtype">bool</font> operator==( <font class="keyword">const</font> <a class="code" href="structKrRect.html">KrRect</a>&amp; that )<font class="keyword"> const </font>{ <font class="keywordflow">return</font>     ( xmin == that.<a class="code" href="structKrRect.html#m0">xmin</a> )
00304                                                                                                         &amp;&amp; ( xmax == that.<a class="code" href="structKrRect.html#m2">xmax</a> )
00305                                                                                                         &amp;&amp; ( ymin == that.<a class="code" href="structKrRect.html#m1">ymin</a> )
00306                                                                                                         &amp;&amp; ( ymax == that.<a class="code" href="structKrRect.html#m3">ymax</a> ); }
00307         <font class="keywordtype">bool</font> operator!=( <font class="keyword">const</font> <a class="code" href="structKrRect.html">KrRect</a>&amp; that )<font class="keyword"> const </font>{ <font class="keywordflow">return</font>     ( xmin != that.<a class="code" href="structKrRect.html#m0">xmin</a> )
00308                                                                                                         || ( xmax != that.<a class="code" href="structKrRect.html#m2">xmax</a> )
00309                                                                                                         || ( ymin != that.<a class="code" href="structKrRect.html#m1">ymin</a> )
00310                                                                                                         || ( ymax != that.<a class="code" href="structKrRect.html#m3">ymax</a> ); }
00311 };
00312 
00313 
00314 <font class="comment">/* A rectangle structure.</font>
00315 <font class="comment">*/</font>
00316 template &lt;class T&gt;
00317 <font class="keyword">struct </font>KrTRect
00318 {
00319         T xmin; 
00320         T ymin; 
00321         T xmax; 
00322         T ymax; 
00323 
00324         T Width()  <font class="keyword">const</font>        { <font class="keywordflow">return</font> xmax - xmin + 1; }             
00325         T Height()<font class="keyword"> const        </font>{ <font class="keywordflow">return</font> ymax - ymin + 1; }             
00326         T Area()   <font class="keyword">const</font>        { <font class="keywordflow">return</font> ( xmax - xmin + 1 ) * ( ymax - ymin + 1 );     }
00327 
00329         <font class="keywordtype">void</font> Set( T _xmin, T _ymin, T _xmax, T _ymax )<font class="keyword">  </font>{ xmin = _xmin; ymin = _ymin; xmax = _xmax; ymax = _ymax; }
00330 
00332         <font class="keywordtype">bool</font> IsValid()<font class="keyword"> const</font>
00333 <font class="keyword">        </font>{
00334                 <font class="keywordflow">return</font> ( xmin &lt;= xmax ) &amp;&amp; ( ymin &lt;= ymax );
00335         }
00336 
00338         <font class="keywordtype">bool</font> Intersect( <font class="keyword">const</font> KrTRect&lt;T&gt;&amp; rect )<font class="keyword"> const</font>
00339 <font class="keyword">        </font>{
00340                 <font class="keywordflow">if</font> (    rect.xmax &lt; xmin
00341                          || rect.xmin &gt; xmax
00342                          || rect.ymax &lt; ymin
00343                          || rect.ymin &gt; ymax )
00344                 {
00345                         <font class="keywordflow">return</font> <font class="keyword">false</font>;
00346                 }
00347                 <font class="keywordflow">return</font> <font class="keyword">true</font>;
00348         }       
00349 
00350         <font class="keywordtype">bool</font> Intersect( T x, T y )<font class="keyword"> const</font>
00351 <font class="keyword">        </font>{
00352                 <font class="keywordflow">if</font> (    x &lt; xmin
00353                          || x &gt; xmax
00354                          || y &lt; ymin
00355                          || y &gt; ymax )
00356                 {
00357                         <font class="keywordflow">return</font> <font class="keyword">false</font>;
00358                 }
00359                 <font class="keywordflow">return</font> <font class="keyword">true</font>;
00360         }
00361 
00362 
00364         <font class="keywordtype">bool</font> HasInside( <font class="keyword">const</font> KrTRect&lt;T&gt;&amp; rect )<font class="keyword"> const</font>
00365 <font class="keyword">        </font>{
00366                 <font class="keywordflow">if</font> (    rect.xmin &gt;= xmin
00367                          &amp;&amp; rect.xmax &lt;= xmax
00368                          &amp;&amp; rect.ymin &gt;= ymin
00369                          &amp;&amp; rect.ymax &lt;= ymax )
00370                 {
00371                         <font class="keywordflow">return</font> <font class="keyword">true</font>;
00372                 }
00373                 <font class="keywordflow">return</font> <font class="keyword">false</font>;
00374         }
00375 
00377         <font class="keywordtype">void</font> DoUnion( <font class="keyword">const</font> KrTRect&lt;T&gt;&amp; rect )<font class="keyword"></font>
00378 <font class="keyword">        </font>{
00379                 xmin = GlMin( xmin, rect.xmin );
00380                 xmax = GlMax( xmax, rect.xmax );
00381                 ymin = GlMin( ymin, rect.ymin );
00382                 ymax = GlMax( ymax, rect.ymax );
00383         }
00384 
00386         <font class="keywordtype">void</font> DoIntersection( <font class="keyword">const</font> KrTRect&lt;T&gt;&amp; rect )<font class="keyword"></font>
00387 <font class="keyword">        </font>{
00388                 xmin = GlMax( xmin, rect.xmin );
00389                 xmax = GlMin( xmax, rect.xmax );
00390                 ymin = GlMax( ymin, rect.ymin );
00391                 ymax = GlMin( ymax, rect.ymax );
00392         }
00393 };
00394 
00395 
00396 <font class="preprocessor">#endif</font>
</font></pre></div><hr><address><small>Generated on Fri Feb 7 20:44:20 2003 for Kyra by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
