<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KrImage class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.11.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>KrImage  Class Reference</h1>The parent class for any Node that actually draws to the screen. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="image_8h-source.html">image.h</a>&gt;</code>
<p>
<p>Inheritance diagram for KrImage::
<p><center><img src="classKrImage.gif" usemap="#KrImage_map" border="0"></center>
<map name="KrImage_map">
<area href="classKrImNode.html" alt="KrImNode" shape="rect" coords="117,0,185,24">
<area href="classKrBox.html" alt="KrBox" shape="rect" coords="0,112,68,136">
<area href="classKrCanvas.html" alt="KrCanvas" shape="rect" coords="78,112,146,136">
<area href="classKrSprite.html" alt="KrSprite" shape="rect" coords="156,112,224,136">
<area href="classKrTile.html" alt="KrTile" shape="rect" coords="234,112,302,136">
</map>
<a href="classKrImage-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classKrImage.html#a3">QueryBoundingBox</a> (<a class="el" href="structKrRect.html">KrRect</a> *boundingBox, int window)=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the bounding box of the image, in its current state.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="classKrImage.html#a4">CheckCollision</a> (KrImage *other, int window=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check to see if this object collides with another object.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a6" doxytag="KrImage::ToImage"></a>
virtual KrImage *&nbsp;</td><td valign=bottom><a class="el" href="classKrImage.html#a6">ToImage</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return a pointer if this is an image.</em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The parent class for any Node that actually draws to the screen.
<p>
<dl compact><dt><b>
See also: </b><dd>
<a class="el" href="classKrImNode.html">KrImNode</a> </dl>
<p>
<hr><h2>Member Function Documentation</h2>
<a name="a4" doxytag="KrImage::CheckCollision"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool KrImage::CheckCollision </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">KrImage *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>other</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>window</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check to see if this object collides with another object.
<p>
Only Sprites and Canvases can collide. (Boxes, Tiles, etc. are ignored.)
<p>
Composite Objects -- TextBox and Widgets -- are built on Sprites. Their components *will* collide. Something to be aware of.
<p>
This is a pixel perfect (or near perfect, if scaled) 2D collision detection. 2D collision detection is a necessary -- but not sufficient -- collision criteria for 3D collision, if you are using an isometric view. For top down or side views, this is a complete detection scheme.
<p>
See <a class="el" href="classKrImageTree.html#a9">KrImageTree::CheckChildCollision</a> and <a class="el" href="classKrImageTree.html#a10">KrImageTree::CheckAllCollision</a> for possibily more useful Tree variants of this call.
<p>
The ImageTree must be in an consistent state in order to for collision checking to work. The function <a class="el" href="classKrImNode.html#a53">Engine</a>()-&gt;Tree()-&gt;Walk() will bring the tree into a consistent state. The following operations will invalidate the state of the Tree, causing collision checking to fail:
<p>
<ul>
<li>Setting any X, Y, or Scale property<li>Adding anything to the Tree. (Deleting from the tree is safe, however.)</ul>
Walk can be a somewhat expensive call. And you should avoid calling it more than once per frame. A normal sequence of events would be something like:
<p>
<ul>
<li>Move sprites, canvases, etc. Game &amp; logic actions.<li>Call Walk<li>Check collisions. Call deletes as you go, queue up additional move and scaling actions.<li>Apply queued move / scaling actions.<li>Draw()</ul>
Note that if you aren't using collision detection, you should never need to call Walk() directly. Also, if you check collisions *after* Draw(), but before any x/y/scale transformations, you don't need to call Walk().
<p>
Returns true if the objects collide.
<p>
A window can be specified. Depending on the transformations appiled, collisions can be different per window.
<p>
Collisions with scaled sprites and canvases is supported with one caveat: un-cached sprites can not be collision detected. For a full discussion of scaling, see the HTML docs. In brief, a scaled image can be cached (pre-calculated at a give x and y scale) or real time scaled. Real time scaled sprites can not be used in a collision test.     </td>
  </tr>
</table>
<a name="a3" doxytag="KrImage::QueryBoundingBox"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void KrImage::QueryBoundingBox </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structKrRect.html">KrRect</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>boundingBox</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>window</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the bounding box of the image, in its current state.
<p>
If this is a sprite, it will be the bounding box of the current frame and action. The bounds are relative to the hotspot, so xmin and ymin will often be not zero.
<p>
The current transformation matrix will be applied, so the result may be transformed bounds. 
<p>
Reimplemented in <a class="el" href="classKrBox.html#a13">KrBox</a>, <a class="el" href="classKrCanvas.html#a8">KrCanvas</a>, <a class="el" href="classKrSprite.html#a12">KrSprite</a>, and <a class="el" href="classKrTile.html#a9">KrTile</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="image_8h-source.html">image.h</a></ul>
<hr><address><small>Generated on Fri Feb 7 20:44:21 2003 for Kyra by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.11.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
